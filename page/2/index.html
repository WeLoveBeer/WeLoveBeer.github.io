<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>MySoul</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="MySoul">
<meta property="og:url" content="https://welovebeer.github.io/page/2/index.html">
<meta property="og:site_name" content="MySoul">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Tal">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="MySoul" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
  
  
<link rel="stylesheet" href="/css/style.css">

  

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//bing.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://welovebeer.github.io"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
          <a class="main-nav-link" href="/test">测试</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">MySoul</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">杭州雨季里的星期天</a>
        </h2>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-2019/PythonLearning/python(6)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/07/2019/PythonLearning/python(6)/" class="article-date">
  <time datetime="2020-09-07T12:20:00.793Z" itemprop="datePublished">2020-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/07/2019/PythonLearning/python(6)/">2019/PythonLearning/python(6)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h1 id="python数据结构一些总结"><a href="#python数据结构一些总结" class="headerlink" title="python数据结构一些总结"></a>python数据结构一些总结</h1><h2 id="map-filter-reduce"><a href="#map-filter-reduce" class="headerlink" title="map,filter,reduce"></a>map,filter,reduce</h2><p>map 不是c++中的map，函数式编程，面向表达式编程：</p>
<ul>
<li>map(aFunction, aSequence)</li>
<li>filter(aFunction, aSequence)</li>
<li>reduce(aFunction, aSequence)</li>
<li>lambda</li>
<li>list comprehension<br>简单的map应用：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; items &#x3D; [1, 2, 3, 4, 5]</span><br><span class="line">&gt;&gt;&gt; </span><br><span class="line">&gt;&gt;&gt; def sqr(x): return x ** 2</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; list(map(sqr, items))</span><br><span class="line">[1, 4, 9, 16, 25]</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
过滤器通过一个函数对象把sequence中的东西过滤一遍：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; list(range(-5,5))</span><br><span class="line">[-5, -4, -3, -2, -1, 0, 1, 2, 3, 4]</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">&gt;&gt;&gt; list( filter((lambda x: x &lt; 0), range(-5,5)))</span><br><span class="line">[-5, -4, -3, -2, -1]</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
reduce是functool模块的一个工具，返回一个值：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; </span><br><span class="line">&gt;&gt;&gt; from functools import reduce</span><br><span class="line">&gt;&gt;&gt; reduce( (lambda x, y: x * y), [1, 2, 3, 4] )</span><br><span class="line">24</span><br><span class="line">&gt;&gt;&gt; reduce( (lambda x, y: x &#x2F; y), [1, 2, 3, 4] )</span><br><span class="line">0.041666666666666664</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<h2 id="decrator-装饰器"><a href="#decrator-装饰器" class="headerlink" title="decrator(装饰器)"></a>decrator(装饰器)</h2>类似设计模式的装饰器模式，装饰器都是为了给当前函数添加功能或者修改行为；<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def dollar(fn):</span><br><span class="line">	def new(*args):</span><br><span class="line">		return &#39;$&#39; + str(fn(*args))</span><br><span class="line">	return new</span><br><span class="line"></span><br><span class="line">@dollar</span><br><span class="line">def price(amount, tax_rate):</span><br><span class="line">	return amount + amount*tax_rate</span><br><span class="line">   </span><br><span class="line">print price(100,0.1)</span><br></pre></td></tr></table></figure>
上面代码的功能是给参数前面加一个dollar符号，@符号是装饰器的语法<br>new 函数是一个wrapper<br>@dollar这一句话相当于：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">price&#x3D;dollar(price)</span><br></pre></td></tr></table></figure>
判断一个函数运行完消耗的时间：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line">def timer(f):</span><br><span class="line">	def inner(*args, **kargs):</span><br><span class="line">		t &#x3D; time.time()</span><br><span class="line">		ret &#x3D; f(*args, **kargs)</span><br><span class="line">		print &#39;timer &#x3D; %s&#39; %(time.time()-t) </span><br><span class="line">		return ret</span><br><span class="line">	return inner</span><br><span class="line"></span><br><span class="line">@timer</span><br><span class="line">def my_fnc():</span><br><span class="line">	pass</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">	my_fnc()</span><br></pre></td></tr></table></figure>
<h2 id="list-comprehension"><a href="#list-comprehension" class="headerlink" title="list comprehension"></a>list comprehension</h2>map，filter都可以使用list comprehension实现。<br>缺点是可读性不如for循环好。<h2 id="set"><a href="#set" class="headerlink" title="set"></a>set</h2>里面的值都是immutable的，而且都是不重复的。<br>set本身也是mutable的。<br>set简单操作：<br>根据list初始化：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; L &#x3D; [1,2,3]</span><br><span class="line">&gt;&gt;&gt; s &#x3D; set(L)</span><br><span class="line">&gt;&gt;&gt; s</span><br><span class="line">set([1, 2, 3])</span><br><span class="line"># init an empty set</span><br><span class="line">&gt;&gt;&gt; s1 &#x3D; set()</span><br><span class="line">&gt;&gt;&gt; s1</span><br><span class="line">set([])</span><br></pre></td></tr></table></figure>
添加元素：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># add single element</span><br><span class="line">&gt;&gt;&gt; s1.add(&quot;first&quot;)</span><br><span class="line">&gt;&gt;&gt; s1</span><br><span class="line">set([&#39;first&#39;])</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; s1.add(&quot;2nd&quot;)</span><br><span class="line">&gt;&gt;&gt; s1</span><br><span class="line">set([&#39;2nd&#39;, &#39;first&#39;])</span><br><span class="line">#add multi elements</span><br><span class="line">&gt;&gt;&gt; s1.update( [&quot;3rd&quot;, &quot;4th&quot;] )</span><br><span class="line">&gt;&gt;&gt; s1</span><br><span class="line">set([&#39;4th&#39;, &#39;2nd&#39;, &#39;3rd&#39;, &#39;first&#39;])</span><br></pre></td></tr></table></figure>
集合操作交并补：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sets1 &amp; sets2  #(elements in set1,&amp;&amp; in set2)</span><br><span class="line">   sets1 | sets2  #(elements in set1,|| in set2)</span><br><span class="line">   sets1 - sets2  #(elements in set1,&amp;&amp;not in set2)</span><br></pre></td></tr></table></figure>
Jaccard 系数（交除以补）：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">from __future__ import division</span><br><span class="line">import itertools</span><br><span class="line"></span><br><span class="line">def jaccard(s1, s2):</span><br><span class="line">	&quot; takes two lists as input and returns Jaccard coefficient&quot;</span><br><span class="line">	st1&#x3D;set(s1)</span><br><span class="line">	st2&#x3D;set(s2)</span><br><span class="line">	u &#x3D; set(st1).union(st2)</span><br><span class="line">	i &#x3D; set(st1).intersection(st2)</span><br><span class="line">	return len(i)&#x2F;len(u)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">	s &#x3D; [];</span><br><span class="line">	s.append([1,2,3,4])</span><br><span class="line">	s.append([2,3,5,7])</span><br><span class="line">	s.append([2,4,6])  </span><br><span class="line">	s.append([8,9,10,11,12])</span><br><span class="line"></span><br><span class="line">	print(&quot;input set : %s&quot;) %(s)</span><br><span class="line"></span><br><span class="line">	combinations &#x3D; list( itertools.combinations([x for x in range(len(s))], 2) )</span><br><span class="line">	print(&quot;combinations&#x3D;%s&quot;) %(combinations)</span><br><span class="line"></span><br><span class="line">	for c in combinations:</span><br><span class="line">		i1 &#x3D; c[0]</span><br><span class="line">		i2 &#x3D; c[1]</span><br><span class="line">		jac &#x3D; jaccard(s[i1], s[i2])</span><br><span class="line">		print(&quot;%s : %s,%s : jaccard&#x3D;%s&quot;) %(c, s[i1],s[i2],jac)</span><br><span class="line">Output:</span><br><span class="line"></span><br><span class="line">input set : [[1, 2, 3, 4], [2, 3, 5, 7], [2, 4, 6], [8, 9, 10, 11, 12]]</span><br><span class="line">combinations&#x3D;[(0, 1), (0, 2), (0, 3), (1, 2), (1, 3), (2, 3)]</span><br><span class="line">(0, 1) : [1, 2, 3, 4],[2, 3, 5, 7] : jaccard&#x3D;0.333333333333</span><br><span class="line">(0, 2) : [1, 2, 3, 4],[2, 4, 6] : jaccard&#x3D;0.4</span><br><span class="line">(0, 3) : [1, 2, 3, 4],[8, 9, 10, 11, 12] : jaccard&#x3D;0.0</span><br><span class="line">(1, 2) : [2, 3, 5, 7],[2, 4, 6] : jaccard&#x3D;0.166666666667</span><br><span class="line">(1, 3) : [2, 3, 5, 7],[8, 9, 10, 11, 12] : jaccard&#x3D;0.0</span><br><span class="line">(2, 3) : [2, 4, 6],[8, 9, 10, 11, 12] : jaccard&#x3D;0.0</span><br></pre></td></tr></table></figure>
<h2 id="一个小总结"><a href="#一个小总结" class="headerlink" title="一个小总结"></a>一个小总结</h2>string，list，dictionary，tuple，set<br>都不是有序的<br>set里面的值唯一不重复<br>dictionary是基于哈希表的<br>list用中括号，dict用大括号，tuple用小括号，set也用大括号<br>可变的：list，dictionary,set<br>不可变的：tuple，numbers,string,frozenset<br>（All of Python’s immutable built-in objects are hashable）<br>一个小例外，tuple是immutable的，当tuple中所有对象都是immutable的时候可以求哈希，当里面有个list的时候就不可以求哈希<br>（An object is hashable if it has a hash value which never changes during its lifetime ）</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://welovebeer.github.io/2020/09/07/2019/PythonLearning/python(6)/" data-id="ckfqyhlbb000cdku65wgb7ebf" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>
 

 




  
    <article id="post-2019/PythonLearning/python(8)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/07/2019/PythonLearning/python(8)/" class="article-date">
  <time datetime="2020-09-07T12:20:00.793Z" itemprop="datePublished">2020-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/07/2019/PythonLearning/python(8)/">2019/PythonLearning/python(8)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h1 id="python-generator-and-expression"><a href="#python-generator-and-expression" class="headerlink" title="python generator and expression"></a>python generator and expression</h1><h2 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h2><p>生成器和返回一个数组的函数类似，但是和一下子返回一个数组不一样的是，生成器一次返回一个值，优点就是需要更少的内存。<br>所以特别适合使用它的场景是操作一个特别大的数组。<br>生成器看起来像是一个函数，但是它的行为像一个迭代器。</p>
<ul>
<li>生成器函数</li>
<li>生成器表达式<h3 id="生成器表达式与列表推导"><a href="#生成器表达式与列表推导" class="headerlink" title="生成器表达式与列表推导"></a>生成器表达式与列表推导</h3>一个用中括号，一个用小括号</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def repeat5times(x):</span><br><span class="line">	for c in x:</span><br><span class="line">		yield c * 5</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; # Generator functions work the same way		</span><br><span class="line">&gt;&gt;&gt; G &#x3D; repeat5times(&#39;Python&#39;)</span><br><span class="line">&gt;&gt;&gt; iter(G) is G</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; I1, I2 &#x3D; iter(G), iter(G)</span><br><span class="line">&gt;&gt;&gt; next(I1)</span><br><span class="line">&#39;PPPPP&#39;</span><br><span class="line">&gt;&gt;&gt; next(I1)</span><br><span class="line">&#39;yyyyy&#39;</span><br><span class="line">&gt;&gt;&gt; # I2 at same position I1</span><br><span class="line">&gt;&gt;&gt; next(I2)</span><br><span class="line">&#39;ttttt&#39;</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<p>和普通迭代器之间的区别：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; </span><br><span class="line">&gt;&gt;&gt; L &#x3D; [1, 2, 3, 4]</span><br><span class="line">&gt;&gt;&gt; I1, I2 &#x3D; iter(L), iter(L)</span><br><span class="line">&gt;&gt;&gt; next(I1)</span><br><span class="line">1</span><br><span class="line">&gt;&gt;&gt; next(I1)</span><br><span class="line">2</span><br><span class="line">&gt;&gt;&gt; # Lists support multiple iterators</span><br><span class="line">&gt;&gt;&gt; next(I2)</span><br><span class="line">1</span><br><span class="line">&gt;&gt;&gt; # Changes reflected in iterators</span><br><span class="line">&gt;&gt;&gt; del L[2:]</span><br><span class="line">&gt;&gt;&gt; next(I1)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;pyshell#21&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">	next(I1)</span><br><span class="line">StopIteration</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<h2 id="send"><a href="#send" class="headerlink" title="send"></a>send</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import random</span><br><span class="line"></span><br><span class="line">def cf():</span><br><span class="line">	while True:</span><br><span class="line">		val &#x3D; yield</span><br><span class="line">		print val,</span><br><span class="line"></span><br><span class="line">def pf(c):</span><br><span class="line">	while True:</span><br><span class="line">	val &#x3D; random.randint(1,10)</span><br><span class="line">	c.send(val)</span><br><span class="line">	yield</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">	c &#x3D; cf()</span><br><span class="line">	c.send(None)</span><br><span class="line">	p &#x3D; pf(c)</span><br><span class="line"></span><br><span class="line">	for wow in range(10):</span><br><span class="line">		next(p)</span><br></pre></td></tr></table></figure>
<p>自己对send的一些理解：<br>首先遇到yield就会返回，就阻塞了；<br>next和send(None)道理一样，用于第一次调用；<br>send之后会作为yield的返回值，然后程序就接着运行；<br>那个生成器发送的，哪个生成器接收；</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://welovebeer.github.io/2020/09/07/2019/PythonLearning/python(8)/" data-id="ckfqyhlbc000ddku6f5flds37" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>
 

 




  
    <article id="post-2019/PythonLearning/python(7)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/07/2019/PythonLearning/python(7)/" class="article-date">
  <time datetime="2020-09-07T12:20:00.793Z" itemprop="datePublished">2020-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/07/2019/PythonLearning/python(7)/">2019/PythonLearning/python(7)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h1 id="python（7）"><a href="#python（7）" class="headerlink" title="python（7）"></a>python（7）</h1><h2 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; z &#x3D; list(zip(a,b))</span><br><span class="line">&gt;&gt;&gt; z</span><br><span class="line">[(1, 4), (2, 5), (3, 6)]</span><br></pre></td></tr></table></figure>
<p>zip两个或多个参数之后的结果可以看做是上面的东西，每一项都是一个tuple。<br>如果两个参数所包含元素的个数不一样，按较短的参数的长度操作。<br>还可以reverse：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; c, d &#x3D; zip(*z)</span><br><span class="line">&gt;&gt;&gt; c, d</span><br><span class="line">((1, 2, 3), (4, 5, 6))</span><br></pre></td></tr></table></figure>
<p>把结果变成字典：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; D3 &#x3D; dict(zip(keys, values))</span><br><span class="line">&gt;&gt;&gt; D3</span><br><span class="line">&#123;&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;c&#39;: 3&#125;</span><br></pre></td></tr></table></figure>
<p>例1：求海明距离</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def hamming(s1,s2):</span><br><span class="line">	if len(s1) !&#x3D; len(s2):</span><br><span class="line">		raise ValueError(&quot;Not defined - unequal lenght sequences&quot;)</span><br><span class="line">	return sum(c1 !&#x3D; c2 for c1,c2 in zip(s1,s2))</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">	print(hamming(&#39;toned&#39;, &#39;roses&#39;))            # 3</span><br><span class="line">	print(hamming(&#39;2173896&#39;, &#39;2233796&#39;))        # 3</span><br><span class="line">	print(hamming(&#39;0100101000&#39;, &#39;1101010100&#39;))  # 6</span><br></pre></td></tr></table></figure>
<p>例2：条件zip</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x &#x3D; [1,2,3,4,5]</span><br><span class="line">&gt;&gt;&gt; y &#x3D; [11,12,13,14,15]</span><br><span class="line">&gt;&gt;&gt; condition &#x3D; [True,False,True,False,True]</span><br><span class="line">&gt;&gt;&gt; [xv if c else yv for (c,xv,yv) in zip(condition,x,y)]</span><br><span class="line">[1, 12, 3, 14, 5]</span><br></pre></td></tr></table></figure>
<h2 id="yield关键字"><a href="#yield关键字" class="headerlink" title="yield关键字"></a>yield关键字</h2><p>生成器不用把所有东西装入内存，而是运行一次计算一次，generator相当于里面存了个函数。<br>带有yield 的函数支持迭代器协议，每次yield返回一个生成器，然后下次调用的时候接着往下执行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def odd():</span><br><span class="line">...     print &#39;step 1&#39;</span><br><span class="line">...     yield 1</span><br><span class="line">...     print &#39;step 2&#39;</span><br><span class="line">...     yield 3</span><br><span class="line">...     print &#39;step 3&#39;</span><br><span class="line">...     yield 5</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; o &#x3D; odd()</span><br><span class="line">&gt;&gt;&gt; o.next()</span><br><span class="line">step 1</span><br><span class="line">1</span><br><span class="line">&gt;&gt;&gt; o.next()</span><br><span class="line">step 2</span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt; o.next()</span><br><span class="line">step 3</span><br><span class="line">5</span><br><span class="line">&gt;&gt;&gt; o.next()</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">StopIteration</span><br></pre></td></tr></table></figure>
<p>用来实现协程。<br>最大的优势就是协程极高的执行效率。因为子程序切换不是线程切换，而是由程序自身控制，因此，没有线程切换的开销，和多线程比，线程数量越多，协程的性能优势就越明显。</p>
<p>第二大优势就是不需要多线程的锁机制，因为只有一个线程，也不存在同时写变量冲突，在协程中控制共享资源不加锁，只需要判断状态就好了，所以执行效率比多线程高很多。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">def stupid_fib(n):</span><br><span class="line">	index &#x3D; 0</span><br><span class="line">	a &#x3D; 0</span><br><span class="line">	b &#x3D; 1</span><br><span class="line">	while index &lt; n:</span><br><span class="line">		sleep_cnt &#x3D; yield b</span><br><span class="line">		print(&#39;let me think &#123;0&#125; secs&#39;.format(sleep_cnt))</span><br><span class="line">		time.sleep(sleep_cnt)</span><br><span class="line">		a, b &#x3D; b, a + b</span><br><span class="line">		index +&#x3D; 1</span><br><span class="line">print(&#39;-&#39;*10 + &#39;test yield send&#39; + &#39;-&#39;*10)</span><br><span class="line">N &#x3D; 20</span><br><span class="line">sfib &#x3D; stupid_fib(N)</span><br><span class="line">fib_res &#x3D; next(sfib)</span><br><span class="line">while True:</span><br><span class="line">	print(fib_res)</span><br><span class="line">	try:</span><br><span class="line">		fib_res &#x3D; sfib.send(random.uniform(0, 0.5))</span><br><span class="line">	except StopIteration:</span><br><span class="line">		break</span><br></pre></td></tr></table></figure>
<p>参考：<br>[]<a href="https://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/00138681965108490cb4c13182e472f8d87830f13be6e88000" target="_blank" rel="noopener">https://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/00138681965108490cb4c13182e472f8d87830f13be6e88000</a><br>[]<a href="http://python.jobbole.com/86069/" target="_blank" rel="noopener">http://python.jobbole.com/86069/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://welovebeer.github.io/2020/09/07/2019/PythonLearning/python(7)/" data-id="ckfqyhlcc003edku6dtwwhaod" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>
 

 




  
    <article id="post-2019/PythonLearning/python dic tuple（4）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/07/2019/PythonLearning/python%20dic%20tuple%EF%BC%884%EF%BC%89/" class="article-date">
  <time datetime="2020-09-07T12:20:00.777Z" itemprop="datePublished">2020-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/07/2019/PythonLearning/python%20dic%20tuple%EF%BC%884%EF%BC%89/">python 字典元组（4）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h2 id="Dictionary"><a href="#Dictionary" class="headerlink" title="Dictionary"></a>Dictionary</h2><p>字典是键值对模型，键是字符串，值任意，有点像json。</p>
<ul>
<li><p>支持嵌套</p>
</li>
<li><p>不排序，如果想排序就把键放到一个list里面，调用list的sort方法排序，也可以用内置的函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; D</span><br><span class="line">&#123;&#39;a&#39;: 97, &#39;c&#39;: 99, &#39;b&#39;: 98&#125;</span><br><span class="line">&gt;&gt;&gt; for k in sorted(D):</span><br><span class="line">	print (k, &#39;&#x3D;&gt;&#39;, D[k])</span><br></pre></td></tr></table></figure></li>
<li><p>访问，直接使用中括号，里面是键</p>
</li>
<li><p>判断一个键是否在字典中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; if not &#39;F&#39; in D:</span><br><span class="line">	print(&#39;missing&#39;)</span><br><span class="line">	&gt;&gt;&gt; value &#x3D; D[&#39;x&#39;] if &#39;x&#39; in D else 0</span><br><span class="line">&gt;&gt;&gt; value</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
<h2 id="iteration-protocol"><a href="#iteration-protocol" class="headerlink" title="iteration protocol"></a>iteration protocol</h2><p>这种机制只对序列式容器有效，例如list、string、tuple，而对dictionary、set无效</p>
<blockquote>
<p>   Let’s redefine iterables from Python’s perspective.</p>
</blockquote>
<p>  Iterables:</p>
<p>  1.Can be passed to the iter function to get an iterator for them.<br>  2.There is no 2. That’s really all that’s needed to be an iterable.<br>  Iterators:</p>
<p>  1.Can be passed to the next function which gives their next item or raises StopIteration<br>  2.Return themselves when passed to the iter function.<br>  The inverse of these statements should also hold true. Which means:</p>
<p>  1.Anything that can be passed to iter without an error is an iterable.<br>  2.Anything that can be passed to next without an error (except for StopIteration) is an iterator.<br>  3.Anything that returns itself when passed to iter is an iterator.</p>
</li>
</ul>
<p>例如可以这样实现for循环而不使用for关键字：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">	list&#x3D;[1, 2, 3, 4]</span><br><span class="line">	it&#x3D;iter(list)</span><br><span class="line">	while(True):</span><br><span class="line">		try :</span><br><span class="line">			item&#x3D;next(it)</span><br><span class="line">		except StopIteration:</span><br><span class="line">			print(&quot;end&quot;)</span><br><span class="line">			break</span><br><span class="line">		else:</span><br><span class="line">			print(item)</span><br><span class="line">&#96;&#96;&#96;	</span><br><span class="line"></span><br><span class="line">## tuple</span><br><span class="line">* 逗号隔开的元素默认形成元组</span><br><span class="line">* 最重要的是immutable</span><br><span class="line">* 两个特有的方法：index(&#39;f&#39;),count(&#39;f&#39;),分别获取某个元素的下标，获取某个元素出现的次数。</span><br><span class="line">* packing and unpacking</span><br></pre></td></tr></table></figure>
<pre><code>#packing
&gt;&gt;&gt; T = 1, &apos;a&apos;, [{&apos;NAME&apos;:&apos;Serah&apos;, &apos;Age&apos;:25}]
&gt;&gt;&gt; T
(1, &apos;a&apos;, [{&apos;Age&apos;: 25, &apos;NAME&apos;: &apos;Serah&apos;}])
&gt;&gt;&gt; 
#unpacking
&gt;&gt;&gt; x,y,z = T
&gt;&gt;&gt; x,y,z
(1, &apos;a&apos;, [{&apos;Age&apos;: 25, &apos;NAME&apos;: &apos;Serah&apos;}])
&gt;&gt;&gt; </code></pre><pre><code></code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://welovebeer.github.io/2020/09/07/2019/PythonLearning/python%20dic%20tuple%EF%BC%884%EF%BC%89/" data-id="ckfqyhlb20004dku64ffy2n4i" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a><span class="article-tag-list-count">2</span></li></ul>

    </footer>
  </div>
  
</article>
 

 




  
    <article id="post-2019/PythonLearning/python list(3)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/07/2019/PythonLearning/python%20list(3)/" class="article-date">
  <time datetime="2020-09-07T12:20:00.777Z" itemprop="datePublished">2020-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/07/2019/PythonLearning/python%20list(3)/">2019/PythonLearning/python list(3)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h2 id="python-list"><a href="#python-list" class="headerlink" title="python list"></a>python list</h2><p>list是可变数据类型，no fixed type constraint，no fixed size</p>
<ul>
<li>插入，insert在任意位置插入，指定offset，append在列表后面插入。</li>
<li>每次remove只删除第一个object</li>
<li>删除，remove根据指定的值删除，pop根据指定的offset删除。</li>
<li>sort只能排序相同类型对象，reverse倒序。</li>
<li>支持嵌套</li>
<li>列表推导（list comprehension）dictionary和tuple都可以这样  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; col2 &#x3D; [A[1] for A in M]</span><br><span class="line">&gt;&gt;&gt; col2</span><br><span class="line">[2, 5, 8]</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; M</span><br><span class="line">[[1, 2, 3], [4, 5, 6], [7, 8, 9]]</span><br><span class="line">&gt;&gt;&gt; </span><br><span class="line">&gt;&gt;&gt; # Add 10 to each item in column 2</span><br><span class="line">&gt;&gt;&gt; [A[1] + 10 for A in M]</span><br><span class="line">[12, 15, 18]</span><br><span class="line">&gt;&gt;&gt; # Filter out odd items</span><br><span class="line">&gt;&gt;&gt; [A[1] for A in M if A[1] % 2 &#x3D;&#x3D; 0]</span><br><span class="line">[2, 8]</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; # Collect a diagonal from matrix</span><br><span class="line">&gt;&gt;&gt; diag &#x3D; [M[i][i] for i in [0, 1, 2]]</span><br><span class="line">&gt;&gt;&gt; diag</span><br><span class="line">[1, 5, 9]</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">&gt;&gt;&gt; # Repeat characters in a string</span><br><span class="line">&gt;&gt;&gt; doubles &#x3D; [ c * 2 for c in &#39;blah&#39;]</span><br><span class="line">&gt;&gt;&gt; doubles</span><br><span class="line">[&#39;bb&#39;, &#39;ll&#39;, &#39;aa&#39;, &#39;hh&#39;]</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; M</span><br><span class="line">[[1, 2, 3], [4, 5, 6], [7, 8, 9]]</span><br><span class="line">&gt;&gt;&gt; </span><br><span class="line">&gt;&gt;&gt; # Create a generator of row sums</span><br><span class="line">&gt;&gt;&gt; G &#x3D; (sum(A) for A in M)</span><br><span class="line">&gt;&gt;&gt; # iter(G) not required here</span><br><span class="line">&gt;&gt;&gt; next(G)</span><br><span class="line">6</span><br><span class="line">&gt;&gt;&gt; # Run the iteration protocol</span><br><span class="line">&gt;&gt;&gt; next(G)</span><br><span class="line">15</span><br><span class="line">&gt;&gt;&gt; next(G)</span><br><span class="line">24</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://welovebeer.github.io/2020/09/07/2019/PythonLearning/python%20list(3)/" data-id="ckfqyhlb40005dku6fz8afgma" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>
 

 




  
    <article id="post-2019/PythonLearning/python function(5)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/07/2019/PythonLearning/python%20function(5)/" class="article-date">
  <time datetime="2020-09-07T12:20:00.777Z" itemprop="datePublished">2020-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/07/2019/PythonLearning/python%20function(5)/">python 函数</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h2 id="def"><a href="#def" class="headerlink" title="def"></a>def</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">def &lt;name&gt;(arg1, arg2,...,argN)</span><br><span class="line">	return &lt;value&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>def is an executable code. </li>
<li>def creates an object and assigns it to a name. </li>
<li>return sends a result object back to the caller. </li>
</ul>
<h2 id="参数列表匹配"><a href="#参数列表匹配" class="headerlink" title="参数列表匹配"></a>参数列表匹配</h2><p>Syntax    | Location    | Descruption<br>func(value)    | Caller    | Normal argument: matched by position<br>func(name=value)    | Caller    | Keyword argument: matched by name<br>func(<em>sequence)    | Caller    | Pass all object in sequence as individual positional arguments<br>func(*</em>dict)    | Caller    | Pass all key/value pairs in dict as individual keyword arguments<br>def func(name)    | Function    | Normal argument: matched any passed value by position or name<br>def func(name=value)    | Function    | Default argument value, if not passed in the call<br>def func(<em>name)    | Function    | Matches and collects remaining positional arguments in a tuple<br>def func(*</em>name)    | Function    | Matches and collects remaining keyword arguments in a dictionary<br>def func(*args, name)    | Function    | Arguments that must be passed by keyword only in calls</p>
<p>‘<em>‘ 表示匹配任意多sequence item<br>‘</em> *’ 表示匹配任意多字典item</p>
<h2 id="Collecting-and-Unpacking-Arguments"><a href="#Collecting-and-Unpacking-Arguments" class="headerlink" title="Collecting and Unpacking Arguments"></a>Collecting and Unpacking Arguments</h2><p>类似packing和unpacking</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://welovebeer.github.io/2020/09/07/2019/PythonLearning/python%20function(5)/" data-id="ckfqyhlb70007dku61c899umf" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a><span class="article-tag-list-count">2</span></li></ul>

    </footer>
  </div>
  
</article>
 

 




  
    <article id="post-2020/09/国庆前夕" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/06/2020/09/%E5%9B%BD%E5%BA%86%E5%89%8D%E5%A4%95/" class="article-date">
  <time datetime="2020-09-06T13:08:02.000Z" itemprop="datePublished">2020-09-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BF%83%E6%83%85%E6%97%A5%E8%AE%B0/">心情日记</a>►<a class="article-category-link" href="/categories/%E5%BF%83%E6%83%85%E6%97%A5%E8%AE%B0/%E7%BD%91%E6%98%93%E6%97%B6%E5%85%89/">网易时光</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/06/2020/09/%E5%9B%BD%E5%BA%86%E5%89%8D%E5%A4%95/">国庆前夕</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <p>Long Time!<br>仿佛过了半个世纪，时间过得没有知觉，端午过后就没有什么假期了，一直硬顶到国庆，日子也是一天重复着一天，没有记录每一天是个遗憾。</p>
<p>前些时候学游泳，半斤八两吧，蛙泳学会了6成，自由泳学会了3成，时间太短，而且泳池不是一直开着的，只有寒暑假才开，暑假过后就放水了，也没地方游泳了。朱教练虽说自己很厉害，也尝试跟我们搞好关系，但是对教学的理解一般般，还和老太婆孙女的外教玩threep，我tm也是醉了，体育生，艺术生门真的太play boy了。</p>
<p>前天周五晚上在公司打了会篮球，昨天又去东赞球馆打了会，连着两天打真的酸爽，不知不觉瘦了有7 8斤了，（我要我的脂肪！！！）。周五那天那个3分挺准的人又来投了会又走了，上次跟他打球没把他防住，我tm真的不服。刚把球带到公司的那天气针还坏在篮球里面了，气针也有好有坏的。</p>
<p>每天摸一摸钢琴，上钢琴课很大程度是督促我弹下去的动力，有好多好听的曲子还没有弹。今天上钢琴课，老师给讲86拍与83拍在圆舞曲上用的特别多，然后让我听44拍和86拍那个你更想跳舞，唉，我tm想跳舞，我也得有伴呀。我把钢琴当做一生的伴侣，也会持续学习，希望它给我带来好运。</p>
<p>至于纯黑的刘海儿？邯郸人，中道班，985硕士，谦虚，下过地，除了不知道长相，其他感觉很有吸引力，好像见一面，没对上眼就接着寻觅，但是北方的家乡人真是太有吸引力了，只要长的够得着审美底线就努努力，可是万一人家看不上自己呢，缘分谁又懂呢。自己总是用力过猛，没有耐心，总想今天加好友，明天就约出来，可能被这个浮躁的社会同化了，什么都讲究快，但是快又意味着不长久。但是微信总是不回我消息，总是忙，比游戏公司的程序员还忙，周四周五很失落，有种失恋的感觉，周五中午我正要说再不回我我tm就删好友了，老子也不浪费感情了，结果她这个时候回消息了，what？？？可能自己认为糟糕的事情其实并没有那么糟，很多方面，也许都是因为自己胡思乱想了，希望广大女生朋友对我好一点。</p>
<p>十一本来还没想好去哪里，结果被提前预支。四号晋英和李杰结婚，5号6号少毅结婚，单单少毅的话我觉得可以不去，但是晋英已经打电话让我当伴郎了，我就不能不去了，晋英是我大学最要好的朋友之一，李杰我也认识，很接地气，我能在他们身上看见我的影子。去参加两场婚礼一个是了解下彩礼情况、陪嫁什么的，有没有车子和房子，其次是熟悉下结婚的流程，如果搞定刘海儿的话自己也是一两年的事，其实还想去北京耍一耍，可以玩到11号，但是又不知道王周在不在，算了，再议，在家陪陪父母也是。</p>
<p>工作上又一个half year performance B，组长对我期待很大，认为我是组里最有能力的人，what?不敢当不敢当。昨晚在楼下的时候听住着5万每平米小区的人在聊天，A：最近生意怎么样，B：澳洲欧洲市场还好，美国卖的不太行。自己一下子蒙了，贫穷限制了我的想象力，想不到身边的人都是这样的大佬，想致富还是得靠干自己的事业，打一万年工也是不可能致富的，于是回来我就下单了一本市场营销原理，既然程序员干不长久，那就为自己想想出路，走前辈没走过的路。</p>
<p>周末一个人问我有没有女朋友，一个人说我要多参加活动，找到女朋友就settle down了，我每次都是腼腆的笑了笑，。。。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://welovebeer.github.io/2020/09/06/2020/09/%E5%9B%BD%E5%BA%86%E5%89%8D%E5%A4%95/" data-id="ckfqyhlbq001cdku62ue33zx3" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mood/" rel="tag">mood</a><span class="article-tag-list-count">8</span></li></ul>

    </footer>
  </div>
  
</article>
 

 




  
    <article id="post-2020/07/Down and Down" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/27/2020/07/Down%20and%20Down/" class="article-date">
  <time datetime="2020-07-27T12:12:27.000Z" itemprop="datePublished">2020-07-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BF%83%E6%83%85%E6%97%A5%E8%AE%B0/">心情日记</a>►<a class="article-category-link" href="/categories/%E5%BF%83%E6%83%85%E6%97%A5%E8%AE%B0/%E7%BD%91%E6%98%93%E6%97%B6%E5%85%89/">网易时光</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/27/2020/07/Down%20and%20Down/">Down and Down</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <p>最近心情不太好，自己一个人住，蛋壳的其他租客都不怎么交流，感到有点孤单。</p>
<p>昨晚王周居然和他对象去开房了，还给我发图片，真是心中一万个草泥马在奔腾。</p>
<p>上周末又打lol了，总是在晚上想痛彻前非，而白天又一个轮回，浪费时间呀，倒不如约个朋友出来玩。</p>
<p>昨天晚上维修师傅把洗衣机整好了，洗衣效果还挺好的，比阮金水的洗衣机好，就是占卫生间的地方太大了。</p>
<p>新买的欧文篮球鞋有点磨脚，还没实战过，但是只想平常穿，300块，一分价钱一分货。</p>
<p>读书。前些时候花了两天的时间把《活着》的小说看完了，反正每次看的时候都哭，都说余华的叙事能力强，看来是真的强。<br>不能停下读书的脚步，指导人生活的就是书中的这些思维方式。</p>
<p>什么时候才能像B站上某些人那样弹《觉醒》呢？</p>
<p>我发现我不是那种雷厉风行的人，脑袋灵光，处处开窍的人，我是许三多那样的人，想要干大事，就得数十年如一日地做同一件事，而且还做不成几件大事；而做成的关键在于每天都要做，就像考研的时候的样子。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://welovebeer.github.io/2020/07/27/2020/07/Down%20and%20Down/" data-id="ckfqyhlce003hdku6eu16cfi5" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mood/" rel="tag">mood</a><span class="article-tag-list-count">8</span></li></ul>

    </footer>
  </div>
  
</article>
 

 




  
    <article id="post-2020/07/20200704" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/04/2020/07/20200704/" class="article-date">
  <time datetime="2020-07-04T13:51:43.000Z" itemprop="datePublished">2020-07-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BF%83%E6%83%85%E6%97%A5%E8%AE%B0/">心情日记</a>►<a class="article-category-link" href="/categories/%E5%BF%83%E6%83%85%E6%97%A5%E8%AE%B0/%E7%BD%91%E6%98%93%E6%97%B6%E5%85%89/">网易时光</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/04/2020/07/20200704/">20200704</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <p>今天把房子定下来了，交了3万多块钱，租的滨和路地铁口，瑞立东方花城的房子，是蛋壳公寓的房子，面积28平米，最喜欢的是那个大阳台。</p>
<p>最近投资的基金大涨了一波，12万块钱盈利9000，后面应该还会涨一些。</p>
<p>又想到了自己的未来，写代码是干不了5年的时间的，中间肯定要转行，但是自己好像还没有为转行做好充分的准备，考公？工资太低，不过是一个不错的选择，这几年可以先把首付挣下来；创业，或者做点小生意，这条路就太累了，但是如果做成的话就真的迈上了新的高度；还是继续给别人打工？</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://welovebeer.github.io/2020/07/04/2020/07/20200704/" data-id="ckfqyhlbs001jdku6fo4e0dae" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mood/" rel="tag">mood</a><span class="article-tag-list-count">8</span></li></ul>

    </footer>
  </div>
  
</article>
 

 




  
    <article id="post-2020/06/Qt-Model-View-Delegate" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/06/10/2020/06/Qt-Model-View-Delegate/" class="article-date">
  <time datetime="2020-06-10T13:20:57.000Z" itemprop="datePublished">2020-06-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/">技术学习</a>►<a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Qt/">Qt</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/06/10/2020/06/Qt-Model-View-Delegate/">Qt-Model-View-Delegate</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <p><a href="https://doc.qt.io/qt-5/modelview.html" target="_blank" rel="noopener">官方教程</a></p>
<p>工作中遇到一个modelview的神奇bug，view在切换model的时候不能先delete掉原来的model，再set新的model，得先记录老的model，再set新的model，最后delete老的model。</p>
<p>qt中使用deletelater更安全，缺点是delete不及时。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">void QTableViewPrivate::drawCell(QPainter *painter, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index)</span><br><span class="line">&#123;</span><br><span class="line">    Q_Q(QTableView);</span><br><span class="line">    QStyleOptionViewItem opt &#x3D; option;</span><br><span class="line"></span><br><span class="line">    if (selectionModel &amp;&amp; selectionModel-&gt;isSelected(index))</span><br><span class="line">        opt.state |&#x3D; QStyle::State_Selected;</span><br><span class="line">    if (index &#x3D;&#x3D; hover)</span><br><span class="line">        opt.state |&#x3D; QStyle::State_MouseOver;</span><br><span class="line">    if (option.state &amp; QStyle::State_Enabled) &#123;</span><br><span class="line">        QPalette::ColorGroup cg;</span><br><span class="line">        if ((model-&gt;flags(index) &amp; Qt::ItemIsEnabled) &#x3D;&#x3D; 0) &#123;</span><br><span class="line">            opt.state &amp;&#x3D; ~QStyle::State_Enabled;</span><br><span class="line">            cg &#x3D; QPalette::Disabled;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            cg &#x3D; QPalette::Normal;</span><br><span class="line">        &#125;</span><br><span class="line">        opt.palette.setCurrentColorGroup(cg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (index &#x3D;&#x3D; q-&gt;currentIndex()) &#123;</span><br><span class="line">        const bool focus &#x3D; (q-&gt;hasFocus() || viewport-&gt;hasFocus()) &amp;&amp; q-&gt;currentIndex().isValid();</span><br><span class="line">        if (focus)</span><br><span class="line">            opt.state |&#x3D; QStyle::State_HasFocus;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    q-&gt;style()-&gt;drawPrimitive(QStyle::PE_PanelItemViewRow, &amp;opt, painter, q);</span><br><span class="line"></span><br><span class="line">    q-&gt;itemDelegate(index)-&gt;paint(painter, opt, index);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">QMap&lt;int, QVariant&gt; QAbstractItemModel::itemData(const QModelIndex &amp;index) const</span><br><span class="line">&#123;</span><br><span class="line">    QMap&lt;int, QVariant&gt; roles;</span><br><span class="line">    for (int i &#x3D; 0; i &lt; Qt::UserRole; ++i) &#123;</span><br><span class="line">        QVariant variantData &#x3D; data(index, i);</span><br><span class="line">        if (variantData.isValid())</span><br><span class="line">            roles.insert(i, variantData);</span><br><span class="line">    &#125;</span><br><span class="line">    return roles;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://doc.qt.io/qt-5/model-view-programming.html" target="_blank" rel="noopener">https://doc.qt.io/qt-5/model-view-programming.html</a></p>
<p><a href="https://doc.qt.io/qt-5/qtwidgets-itemviews-addressbook-example.html" target="_blank" rel="noopener">https://doc.qt.io/qt-5/qtwidgets-itemviews-addressbook-example.html</a></p>
<p>rowCount起到了很重要的作用，在model里自己插入删除item的时候，行改变的操作得放在rowInsertedBegin,rowInsertedEnd中间。</p>
<p><a href="http://notes.tanchuanqi.com/language/cpp/cpp_micro.html#id15" target="_blank" rel="noopener">http://notes.tanchuanqi.com/language/cpp/cpp_micro.html#id15</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://welovebeer.github.io/2020/06/10/2020/06/Qt-Model-View-Delegate/" data-id="ckfqyhlbr001fdku62n3r7zbp" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tech/" rel="tag">tech</a><span class="article-tag-list-count">4</span></li></ul>

    </footer>
  </div>
  
</article>
 

 




  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/">Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/">Next</a>
  </nav>
</section>
           
    <aside id="sidebar">
  
    

  
    
  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title recent-posts">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/10/01/2020/10/%E5%8F%88%E4%B8%80%E5%B9%B4%E5%9B%BD%E5%BA%86/">又一年国庆</a>
          </li>
        
          <li>
            <a href="/2020/09/15/2020/09/%E7%BC%A0%E8%B6%B3/">裹脚</a>
          </li>
        
          <li>
            <a href="/2020/09/13/2020/09/%E5%AE%8C%E7%BE%8E%E4%B8%BB%E4%B9%89%E8%80%85/">完美主义者</a>
          </li>
        
          <li>
            <a href="/2020/09/07/2020/09/%E7%BB%99blog%E6%B7%BB%E5%8A%A0%E8%A7%86%E9%A2%91%E5%BC%95%E5%8F%91%E7%9A%84%E9%97%AE%E9%A2%98/">给blog添加视频引发的问题</a>
          </li>
        
          <li>
            <a href="/2020/09/07/2019/PythonLearning/python%E4%BB%8B%E7%BB%8D/">2019/PythonLearning/python介绍</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    

  
    
  
    <!--微信公众号二维码-->


  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 1995 - 2020 Tal&nbsp;
    </div>
     <div id="footer-right">
      Contact&nbsp;|&nbsp;707601602@qq.com
    </div>
  </div>
</footer>
 
<script src="/jquery/jquery.min.js"></script>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
    <a href="/test" class="mobile-nav-link">测试</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
    
  

  
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "e2fb4051c49842688ce669e634bc983f",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
    

  







<!-- author:forvoid begin -->
<!-- author:forvoid begin -->

<!-- author:forvoid end -->

<!-- author:forvoid end -->


  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      })
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      })
    </script>
    <script type="text/javascript" src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


 
<script src="/js/is.js"></script>



  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/elevator.js"></script>

  </div>
</body>
</html>