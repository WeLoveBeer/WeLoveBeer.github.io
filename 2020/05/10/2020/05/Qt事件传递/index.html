<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>关于qt事件的学习 | MySoul</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="使用widget本身的事件 actionEvent(QActionEvent *event)  每当添加删除action的时候触发，关于Action:  In applications many common commands can be invoked via menus, toolbar buttons, and keyboard shortcuts. Since the user expe">
<meta property="og:type" content="article">
<meta property="og:title" content="关于qt事件的学习">
<meta property="og:url" content="https://welovebeer.github.io/2020/05/10/2020/05/Qt%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92/index.html">
<meta property="og:site_name" content="MySoul">
<meta property="og:description" content="使用widget本身的事件 actionEvent(QActionEvent *event)  每当添加删除action的时候触发，关于Action:  In applications many common commands can be invoked via menus, toolbar buttons, and keyboard shortcuts. Since the user expe">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-05-10T02:35:32.000Z">
<meta property="article:modified_time" content="2020-09-07T12:14:50.989Z">
<meta property="article:author" content="Tal">
<meta property="article:tag" content="tech">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="MySoul" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
  
  
<link rel="stylesheet" href="/css/style.css">

  

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//bing.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://welovebeer.github.io"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
          <a class="main-nav-link" href="/test">测试</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">MySoul</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">杭州雨季里的星期天</a>
        </h2>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-2020/05/Qt事件传递" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/10/2020/05/Qt%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92/" class="article-date">
  <time datetime="2020-05-10T02:35:32.000Z" itemprop="datePublished">2020-05-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/">技术学习</a>►<a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Qt/">Qt</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      关于qt事件的学习
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h2 id="使用widget本身的事件"><a href="#使用widget本身的事件" class="headerlink" title="使用widget本身的事件"></a>使用widget本身的事件</h2><ol>
<li><p>actionEvent(QActionEvent *event)</p>
<p> 每当添加删除action的时候触发，关于Action:</p>
<blockquote>
<p>In applications many common commands can be invoked via menus, toolbar buttons, and keyboard shortcuts. Since the user expects each command to be performed in the same way, regardless of the user interface used, it is useful to represent each command as an action.</p>
</blockquote>
</li>
<li><p>changeEvent(QEvent *event)</p>
<p> widget change的时候触发，包括以下change:</p>
<blockquote>
<p>Change events include: QEvent::ToolBarChange, QEvent::ActivationChange, QEvent::EnabledChange, QEvent::FontChange, QEvent::StyleChange, QEvent::PaletteChange, QEvent::WindowTitleChange, QEvent::IconTextChange, QEvent::ModifiedChange, QEvent::MouseTrackingChange, QEvent::ParentChange, QEvent::WindowStateChange, QEvent::LanguageChange, QEvent::LocaleChange, QEvent::LayoutDirectionChange, QEvent::ReadOnlyChange  </p>
</blockquote>
</li>
<li><p>closeEvent(QCloseEvent *event)</p>
</li>
<li><p>contextMenuEvent(QContextMenuEvent *event)</p>
<p> 右键菜单又叫context menu,上下文菜单</p>
</li>
<li><p>dragEnterEvent(QDragEnterEvent *event)</p>
</li>
<li><p>dragLeaveEvent(QDragLeaveEvent *event)</p>
</li>
<li><p>dragMoveEvent(QDragMoveEvent *event)</p>
<p> 当有一个drag 在in progress的时候才会触发</p>
</li>
<li><p>dropEvent(QDropEvent *event)</p>
</li>
<li><p>enterEvent(QEvent *event)</p>
</li>
<li><p>leaveEvent(QEvent* event)</p>
<p>鼠标cursor 进入触发</p>
</li>
<li><p>focusInEvent(QFocusEvent *event)</p>
</li>
<li><p>focusOutEvent(QFocusEvent *event)</p>
</li>
<li><p>hideEvent(QHideEvent *event)</p>
</li>
<li><p>showEvent(QHideEvent *event)</p>
</li>
<li><p>keyPressEvent(QKeyEvent *event)</p>
</li>
<li><p>keyReleaseEvent(QKeyEvent *event)</p>
</li>
<li><p>mouseDoubleClickEvent(QMouseEvent *event)<br>mouseMoveEvent(QMouseEvent *event)<br>mousePressEvent(QMouseEvent *event)<br>mouseReleaseEvent(QMouseEvent *event)</p>
</li>
<li><p>inputMethodEvent(QInputMethodEvent *event)<br>输入文字到widget中所处理的</p>
</li>
<li><p>moveEvent(QMoveEvent *event)<br>widget被移动的事件</p>
</li>
<li><p>nativeEvent(const QByteArray &amp;eventType, void *message, long *result)<br>可以捕获windows原生MSG</p>
</li>
<li><p>paintEvent(QPaintEvent *event)</p>
</li>
<li><p>resizeEvent(QResizeEvent *event)</p>
</li>
<li><p>showEvent(QShowEvent *event)</p>
</li>
<li><p>tabletEvent(QTabletEvent *event)<br>好像是触控用的</p>
</li>
<li><p>wheelEvent(QWheelEvent *event)</p>
</li>
</ol>
<h2 id="使用event事件"><a href="#使用event事件" class="headerlink" title="使用event事件"></a>使用event事件</h2><p>event(QEvent *event)<br>接收所有事件的函数</p>
<h2 id="Install-Event-Filter"><a href="#Install-Event-Filter" class="headerlink" title="Install Event Filter"></a>Install Event Filter</h2><p>设置一个QObject的实例去监测另外一个QObject实例的事件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CustomerInfoDialog::CustomerInfoDialog(QWidget *parent) :QDialog(parent)</span><br><span class="line">&#123;</span><br><span class="line">...</span><br><span class="line">    firstNameEdit-&gt;installEventFilter(this);</span><br><span class="line">    lastNameEdit-&gt;installEventFilter(this);</span><br><span class="line">    cityEdit-&gt;installEventFilter(this);</span><br><span class="line">    phoneNumberEdit-&gt;installEventFilter(this);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">bool CustomerInfoDialog::eventFilter(QObject *target, QEvent *event)</span><br><span class="line">&#123;</span><br><span class="line">    if (target &#x3D;&#x3D; firstnameEdit || target &#x3D;&#x3D; lastNameEdit</span><br><span class="line">    || target &#x3D;&#x3D; cityEdit || target &#x3D;&#x3D; phoneNumberEdit)</span><br><span class="line">    &#123;</span><br><span class="line">        if(event-&gt;type() &#x3D;&#x3D; QEvent::KeyPress)</span><br><span class="line">        &#123;</span><br><span class="line">            QKeyEvent *keyEvent &#x3D; static_cast&lt;QKeyEvent*&gt;(event);</span><br><span class="line">            if (keyEvent-&gt;key() &#x3D;&#x3D; Qt::Key_Space)</span><br><span class="line">            &#123;</span><br><span class="line">            focusNextChild();</span><br><span class="line">            return true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return QDialog::eventFilter(target, event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="在-QApplication-上安装事件过滤器。"><a href="#在-QApplication-上安装事件过滤器。" class="headerlink" title="在 QApplication 上安装事件过滤器。"></a>在 QApplication 上安装事件过滤器。</h2><p>获取应用的所有事件</p>
<h2 id="重写notity方法"><a href="#重写notity方法" class="headerlink" title="重写notity方法"></a>重写notity方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class myApplication :public QApplication &#x2F;&#x2F;此处需继承QApplication</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    myApplication(int argc, char *argv[]);</span><br><span class="line">protected:</span><br><span class="line">    virtual bool notify(QObject *obj, QEvent *event); &#x2F;&#x2F;对该类重写notify事件</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://welovebeer.github.io/2020/05/10/2020/05/Qt%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92/" data-id="ckf18n1yy000hr4u6041o0oy7" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tech/" rel="tag">tech</a><span class="article-tag-list-count">4</span></li></ul>

    </footer>
  </div>
  
    
 
<script src="/jquery/jquery.min.js"></script>

  <div id="random_posts">
    <h2>Recommended Posts</h2>
    <div class="random_posts_ul">
      <script>
          var random_count =4
          var site = {BASE_URI:'/'};
          function load_random_posts(obj) {
              var arr=site.posts;
              if (!obj) return;
              // var count = $(obj).attr('data-count') || 6;
              for (var i, tmp, n = arr.length; n; i = Math.floor(Math.random() * n), tmp = arr[--n], arr[n] = arr[i], arr[i] = tmp);
              arr = arr.slice(0, random_count);
              var html = '<ul>';
            
              for(var j=0;j<arr.length;j++){
                var item=arr[j];
                html += '<li><strong>' + 
                item.date + ':&nbsp;&nbsp;<a href="' + (site.BASE_URI+item.uri) + '">' + 
                (item.title || item.uri) + '</a></strong>';
                if(item.excerpt){
                  html +='<div class="post-excerpt">'+item.excerpt+'</div>';
                }
                html +='</li>';
                
              }
              $(obj).html(html + '</ul>');
          }
          $('.random_posts_ul').each(function () {
              var c = this;
              if (!site.posts || !site.posts.length){
                  $.getJSON(site.BASE_URI + 'js/posts.js',function(json){site.posts = json;load_random_posts(c)});
              } 
               else{
                load_random_posts(c);
              }
          });
      </script>
    </div>
  </div>

    
<nav id="article-nav">
  
    <a href="/2020/05/11/2020/05/%E7%9F%A9%E9%98%B5%E5%8F%98%E6%8D%A2/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          矩阵变换
        
      </div>
    </a>
  
  
    <a href="/2020/05/04/2020/05/%E4%BA%94%E5%9B%9B%E9%9D%92%E5%B9%B4%E8%8A%82/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">五四青年节</div>
    </a>
  
</nav>

  
</article>
 
     
  <div class="comments" id="comments">
    
     
       
      <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    
       
      
      
  </div>
 
  

 
        
            <section id="comments" class="comments">
              <style>
                .comments{margin:30px;padding:10px;background:#fff}
                @media screen and (max-width:800px){.comments{margin:auto;padding:10px;background:#fff}}
              </style>
              <div id="vcomment" class="comment"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script src="https://cdnjs.loli.net/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
    var notify = 'false' == true ? true : false;
    var verify = 'false' == true ? true : false;
    new Valine({
        av: AV,
        el: '#vcomment',
        notify: notify,
        app_id: "aPmdByA1A6jVi2obtcNSDwEn-gzGzoHsz",
        app_key: "aU8uRsMVVXm2SYlKOcxKBP0r",
        placeholder: "Say something!",
        avatar:"",
        visitor: true
    });
</script>


          </section>
        




</section>
           
    <aside id="sidebar">
  
    

  
    
    <div class="widget-wrap">
    
      <div class="widget" id="toc-widget-fixed">
      
        <strong class="toc-title">Content</strong>
        <div class="toc-widget-list">
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#使用widget本身的事件"><span class="toc-number">1.</span> <span class="toc-text">使用widget本身的事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用event事件"><span class="toc-number">2.</span> <span class="toc-text">使用event事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-Event-Filter"><span class="toc-number">3.</span> <span class="toc-text">Install Event Filter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#在-QApplication-上安装事件过滤器。"><span class="toc-number">4.</span> <span class="toc-text">在 QApplication 上安装事件过滤器。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#重写notity方法"><span class="toc-number">5.</span> <span class="toc-text">重写notity方法</span></a></li></ol>
          </div>
      </div>
    </div>

  
    

  
    
  
    
  
    

  
    
  
    <!--微信公众号二维码-->


  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 1995 - 2020 Tal&nbsp;
    </div>
     <div id="footer-right">
      Contact&nbsp;|&nbsp;707601602@qq.com
    </div>
  </div>
</footer>
 
<script src="/jquery/jquery.min.js"></script>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
    <a href="/test" class="mobile-nav-link">测试</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
    
  

  
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "e2fb4051c49842688ce669e634bc983f",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
    

  







<!-- author:forvoid begin -->
<!-- author:forvoid begin -->

<!-- author:forvoid end -->

<!-- author:forvoid end -->


  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      })
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      })
    </script>
    <script type="text/javascript" src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


 
<script src="/js/is.js"></script>



  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/elevator.js"></script>

  </div>
</body>
</html>